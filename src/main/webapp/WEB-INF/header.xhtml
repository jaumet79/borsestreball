<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

	<h:form id="frmHeader" xmlns:h="http://java.sun.com/jsf/html"
                           xmlns:p="http://primefaces.org/ui"
                           xmlns:f="http://java.sun.com/jsf/core"
                           xmlns:sec="http://www.springframework.org/security/tags">
      	
    	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
	 
    	<f:view locale="#{sessionBean.locale}" />
    	
    	<p:growl id="messages" />
    	
    	<p:menubar>
			<p:menuitem value="#{msg['menu.bolsas']}" outcome="index" icon="ui-icon-folder-open" 
				style="margin-right:15px;" rendered="#{sessionBean.editor}" />
			<p:menuitem value="#{msg['menu.personas']}" outcome="personas" icon="pi pi-fw pi-user-edit" 
				style="margin-right:15px;" rendered="#{sessionBean.editor}" />

			<p:submenu label="#{msg['menu.administracion']}" icon="ui-icon-wrench" rendered="#{sessionBean.admin || sessionBean.adminSis}"> 			
				<p:menuitem value="#{msg['menu.usuarios']}" outcome="usuaris" icon="ui-icon-key" 
					style="margin-right:15px;" rendered="#{sessionBean.admin || sessionBean.adminSis}" />
				<p:menuitem value="#{msg['menu.categorias']}" outcome="categorias" icon="ui-icon-note" 
					style="margin-right:15px;" rendered="#{sessionBean.admin}" />
			</p:submenu>
			
			<f:facet name="options">
				<div>
					<div style = "float: left">
						<!-- TITULO -->
		        		<h:outputText value="#{msg['menu.title']}" style="padding-right:200px;font-size:25px;font-variant:small-caps;"/>
		        		
		        		<!-- CANVI IDIOMA -->
		        		<p:selectOneMenu id="selIdioma" value="#{sessionBean.idiomaSelected}" valueChangeListener="#{sessionBean.countryLocaleCodeChanged}" 
		        			onchange="submit()" style="margin-right:50px;">
							<f:selectItems value="#{sessionBean.idiomas}" var="varIdioma" itemValue="#{varIdioma}" itemLabel="#{msg[varIdioma.message]}"  />
				        </p:selectOneMenu>	
				    	
				    	<!-- INFO USUARI --> 
				        <h:outputText value="#{sessionBean.userName} (#{sessionBean.userRoles})" style="margin-right:15px;"/>&nbsp;&nbsp;
			        </div>
			        
		      		<div style = "float: left">
               			<p:commandButton value="#{msg['header.salir']}" icon="pi pi-fw pi-sign-out" type="button" styleClass="ui-button-info" 
               				onclick="window.location.href='${pageContext.request.contextPath}/logout';" ajax="false"/>
              		</div>
             	</div>
         	</f:facet>
        		
		</p:menubar>
      		
   	</h:form>
        
        
          	
